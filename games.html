<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <title>games</title>
  <link rel="icon" type="image/png" href="bcps.png?v=3">
</head>
<body>

<a href="index.html">home</a>
<a href="settings.html">settings</a>

<input id="search" placeholder="search games">

<div id="games-grid"></div>

<script>
let games = [];
let favorites = JSON.parse(localStorage.getItem("favorites")) || [];

const grid = document.getElementById("games-grid");
const searchInput = document.getElementById("search");

fetch("games.json")
  .then(r => r.json())
  .then(data => {
    games = data.games.filter(g => g.enabled);
    render(games);
  });

function render(list) {
  grid.innerHTML = "";
  list.forEach(game => {
    const div = document.createElement("div");
    div.innerHTML = `
      <img src="${game.imgSrc}" width="150">
      <p>${game.title}</p>
    `;
    div.onclick = () => location.href = game.link;
    grid.appendChild(div);
  });
}

searchInput.addEventListener("input", () => {
  const q = searchInput.value.toLowerCase();
  render(games.filter(g => g.title.toLowerCase().includes(q)));
});
</script>

</body>
</html>
